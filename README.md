# wikipedia-idf
Wikipedia document terms frequency

A script to get basic information on terms frequency on Wikipedia. Such information may turn out to be useful in text mining applications where frequency of terms have to be checked against a neutral corpus such as Wikipedia.

The script takes as input (possibly bzipped) files where each line is a json object contatining the text of a Wikipedia article. The format is that of files generated by Giuseppe Attardi's [WikiExtractor](https://github.com/attardi/wikiextractor).

## Suggested pipeline


1. Download from a [Wikipedia dump](https://dumps.wikimedia.org/backup-index.html), the file named `*wiki-*-pages-articles.xml.bz2`

2. Process it with [WikiExtractor](https://github.com/attardi/wikiextractor), E.g. launching:

 `python WikiExtractor.py -o /path/to/extract_dir --compress --json /path/to/*-pages-articles.xml.bz2`
 
3. Generate frequency CSV, E.g. with:

`python wikipediaidf.py -i /path/to/extract_dir/*.bz2 -o /path/to/out_dir/PREFIX -s LANG -c NUM_CPUS`

where `LANG` is the Wikipedia language (will be used for stemming terms with the `-s` option and there must be a snowball stemmer for it), `PREFIX` is a prefix of the generated CSV files, and `NUM_CPUS` is the number of process that will be started for processing Wikipedia articles.

This will generate a CSV file `PREFIX_terms.csv` that begins with E.g.:

```
token,frequency,total,idf
the,4868104,5375019,0.09905756998426586
in,4677480,5375019,0.13900260552258173
a,4634606,5375019,0.14821091888028787
[...]
```
meaning that `the` is the most common term, appearing in 4868104 articles out of 5375019, with an [IDF](https://en.wikipedia.org/wiki/Tf%E2%80%93idf#Inverse_document_frequency) of 0.099 (the lower, the more documents feature that term).

When run with the `-s LANG` option, the script also stems terms and generates a `PREFIX_stems.csv` file E.g.:
```
stem,frequency,total,idf,most_freq_term
[...]
sinc,756750,5375019,1.9604831185320117,since
sever,756035,5375019,1.9614283937799355,several
call,754768,5375019,1.9631056457046039,called
than,736545,5375019,1.9875456963514588,than
```
meaning that stem `sinc` appears in 756750 out of 5375019, has a IDF of 1.96, and the term that most commonly generated is is `since`.

